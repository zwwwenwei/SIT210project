import RPi.GPIO as GPIO
import time

TRIG = 23
ECHO = 24

GPIO.setwarnings(False)
GPIO.setmode(GPIO.BCM)
GPIO.setup(TRIG, GPIO.OUT)
GPIO.setup(ECHO, GPIO.IN)
buzzer = 25
GPIO.setup(buzzer,GPIO.OUT)
try:
  while True:
    GPIO.output(TRIG, False)
    time.sleep(2)

    GPIO.output(TRIG, True)
    time.sleep(0.00001)
    GPIO.output(TRIG, False)
    
    while GPIO.input(ECHO)==0:
      start = time.time()
    while GPIO.input(ECHO)==1:
      end = time.time()

    duration = end - start
    distance = duration * 17150
    distance = round(distance, 2)

    if distance < 30:
      print ("Distance:",distance,"cm")
    if distance < 10:
      GPIO.output(buzzer,GPIO.HIGH)
    else:
      GPIO.output(buzzer,GPIO.LOW)

except KeyboardInterrupt:
  GPIO.cleanup()
